\hypertarget{namespacego__to__point}{}\doxysection{go\+\_\+to\+\_\+point Namespace Reference}
\label{namespacego__to__point}\index{go\_to\_point@{go\_to\_point}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point_a73dbc2c93a6c9bb25f136c4519b8b6ca}{srv\+\_\+set\+\_\+vel}} (req)
\begin{DoxyCompactList}\small\item\em /set\+\_\+vel server \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}{clbk\+\_\+odom}} (msg)
\begin{DoxyCompactList}\small\item\em Odometry callback. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}{change\+\_\+state}} (\mbox{\hyperlink{state__machine_8cpp_a89f234133d3efe315836311cbf21c64b}{state}})
\begin{DoxyCompactList}\small\item\em Update the current global state. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}{normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em Renormalize an angle berween \mbox{[}-\/pi, pi\mbox{]}. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_aa2f5974f6134483d69194c980a3a0799}{fix\+\_\+yaw}} (des\+\_\+yaw, next\+\_\+state)
\begin{DoxyCompactList}\small\item\em Orient the robot in a desired way. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}{go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em Drive toward the goal. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}{done}} ()
\begin{DoxyCompactList}\small\item\em Stop the robot. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}{go\+\_\+to\+\_\+point}} (goal)
\begin{DoxyCompactList}\small\item\em State machine implementation. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}{main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}{position\+\_\+}} = Point()
\item 
int \mbox{\hyperlink{namespacego__to__point_ae444f19eb2019982432760ace036ce03}{yaw\+\_\+}} = 0
\item 
int \mbox{\hyperlink{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}{state\+\_\+}} = 0
\item 
\mbox{\hyperlink{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}{pub\+\_\+}} = None
\begin{DoxyCompactList}\small\item\em publisher \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}{act\+\_\+s}} = None
\begin{DoxyCompactList}\small\item\em action\+\_\+server \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}{vel\+\_\+s}} = None
\begin{DoxyCompactList}\small\item\em velocity server \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}{yaw\+\_\+precision\+\_\+}} = math.\+pi / 9
\item 
int \mbox{\hyperlink{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}{yaw\+\_\+precision\+\_\+2\+\_\+}} = math.\+pi / 90
\item 
float \mbox{\hyperlink{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}{dist\+\_\+precision\+\_\+}} = 0.\+1
\item 
float \mbox{\hyperlink{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}{kp\+\_\+a}} = -\/3.\+0
\item 
float \mbox{\hyperlink{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}{kp\+\_\+d}} = 0.\+2
\item 
float \mbox{\hyperlink{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}{ub\+\_\+a}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum angular speed. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}{ub\+\_\+d}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum linear speed. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}\label{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}} 
\index{go\_to\_point@{go\_to\_point}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}



Update the current global state. 


\begin{DoxyParams}{Parameters}
{\em state} & (int)\+: new state \\
\hline
\end{DoxyParams}


Definition at line 124 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}\label{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}} 
\index{go\_to\_point@{go\_to\_point}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



Odometry callback. 

Retrieve (x,y,theta) from the Odom message.


\begin{DoxyParams}{Parameters}
{\em msg} & (Odometry)\+: odometry message. \\
\hline
\end{DoxyParams}


Definition at line 99 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}\label{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}} 
\index{go\_to\_point@{go\_to\_point}!done@{done}}
\index{done@{done}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop the robot. 

Set the robot linear and angular velocity to 0. 

Definition at line 214 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_aa2f5974f6134483d69194c980a3a0799}\label{namespacego__to__point_aa2f5974f6134483d69194c980a3a0799}} 
\index{go\_to\_point@{go\_to\_point}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+yaw,  }\item[{}]{next\+\_\+state }\end{DoxyParamCaption})}



Orient the robot in a desired way. 

The function is used either to orient the robot toward the goal (x,y) position or, once it\textquotesingle{}s reached, to achieve the goal orientation. It also changes to a new state, depending on the current one (either initial heading or final orientation).


\begin{DoxyParams}{Parameters}
{\em des\+\_\+yaw} & (float)\+: desired yaw \\
\hline
{\em next\+\_\+state} & (int)\+: next state to set \\
\hline
\end{DoxyParams}


Definition at line 150 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}\label{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}} 
\index{go\_to\_point@{go\_to\_point}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}



Drive toward the goal. 

Set the linear and angular speed depending on the distance to the goal pose.


\begin{DoxyParams}{Parameters}
{\em des\+\_\+pos} & (Point)\+: desired (x, y) position \\
\hline
\end{DoxyParams}


Definition at line 180 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}\label{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}} 
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_to\_point()}{go\_to\_point()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{}]{goal }\end{DoxyParamCaption})}



State machine implementation. 

Set an appropriate behaviour depending on the current robot state, in orderd to reach the goal. The state machine keeps running until the goal is reached or the action is preempted (the goal gets cancelled).


\begin{DoxyParams}{Parameters}
{\em goal} & (Pose\+Action\+Goal)\+: (x,y,theta) goal pose \\
\hline
\end{DoxyParams}


Definition at line 228 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}\label{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}} 
\index{go\_to\_point@{go\_to\_point}!main@{main}}
\index{main@{main}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 299 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}\label{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}} 
\index{go\_to\_point@{go\_to\_point}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}



Renormalize an angle berween \mbox{[}-\/pi, pi\mbox{]}. 


\begin{DoxyParams}{Parameters}
{\em angle} & (float)\+: input angle\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em angle} & (float)\+: normalized angle \\
\hline
\end{DoxyRetVals}


Definition at line 136 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a73dbc2c93a6c9bb25f136c4519b8b6ca}\label{namespacego__to__point_a73dbc2c93a6c9bb25f136c4519b8b6ca}} 
\index{go\_to\_point@{go\_to\_point}!srv\_set\_vel@{srv\_set\_vel}}
\index{srv\_set\_vel@{srv\_set\_vel}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{srv\_set\_vel()}{srv\_set\_vel()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+srv\+\_\+set\+\_\+vel (\begin{DoxyParamCaption}\item[{}]{req }\end{DoxyParamCaption})}



/set\+\_\+vel server 

Retrieve maximum linear and angular speed from the Set\+Vel message.


\begin{DoxyParams}{Parameters}
{\em req} & (Set\+Vel)\+: set\+\_\+vel request. \\
\hline
\end{DoxyParams}


Definition at line 82 of file go\+\_\+to\+\_\+point.\+py.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}\label{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}} 
\index{go\_to\_point@{go\_to\_point}!act\_s@{act\_s}}
\index{act\_s@{act\_s}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{act\_s}{act\_s}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+act\+\_\+s = None}



action\+\_\+server 



Definition at line 60 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}\label{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}} 
\index{go\_to\_point@{go\_to\_point}!dist\_precision\_@{dist\_precision\_}}
\index{dist\_precision\_@{dist\_precision\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{dist\_precision\_}{dist\_precision\_}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+dist\+\_\+precision\+\_\+ = 0.\+1}



Definition at line 68 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}\label{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}} 
\index{go\_to\_point@{go\_to\_point}!kp\_a@{kp\_a}}
\index{kp\_a@{kp\_a}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{kp\_a}{kp\_a}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+kp\+\_\+a = -\/3.\+0}



Definition at line 69 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}\label{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}} 
\index{go\_to\_point@{go\_to\_point}!kp\_d@{kp\_d}}
\index{kp\_d@{kp\_d}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{kp\_d}{kp\_d}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+kp\+\_\+d = 0.\+2}



Definition at line 70 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}\label{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}} 
\index{go\_to\_point@{go\_to\_point}!position\_@{position\_}}
\index{position\_@{position\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{position\_}{position\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+position\+\_\+ = Point()}



Definition at line 52 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}\label{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}} 
\index{go\_to\_point@{go\_to\_point}!pub\_@{pub\_}}
\index{pub\_@{pub\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{pub\_}{pub\_}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+pub\+\_\+ = None}



publisher 



Definition at line 57 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}\label{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}} 
\index{go\_to\_point@{go\_to\_point}!state\_@{state\_}}
\index{state\_@{state\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{state\_}{state\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+state\+\_\+ = 0}



Definition at line 55 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}\label{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}} 
\index{go\_to\_point@{go\_to\_point}!ub\_a@{ub\_a}}
\index{ub\_a@{ub\_a}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{ub\_a}{ub\_a}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+ub\+\_\+a = 0.\+6}



Maximum angular speed. 



Definition at line 72 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}\label{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}} 
\index{go\_to\_point@{go\_to\_point}!ub\_d@{ub\_d}}
\index{ub\_d@{ub\_d}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{ub\_d}{ub\_d}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+ub\+\_\+d = 0.\+6}



Maximum linear speed. 



Definition at line 74 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}\label{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}} 
\index{go\_to\_point@{go\_to\_point}!vel\_s@{vel\_s}}
\index{vel\_s@{vel\_s}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{vel\_s}{vel\_s}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+vel\+\_\+s = None}



velocity server 



Definition at line 63 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_ae444f19eb2019982432760ace036ce03}\label{namespacego__to__point_ae444f19eb2019982432760ace036ce03}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_@{yaw\_}}
\index{yaw\_@{yaw\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_}{yaw\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+ = 0}



Definition at line 53 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}\label{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_precision\_@{yaw\_precision\_}}
\index{yaw\_precision\_@{yaw\_precision\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_precision\_}{yaw\_precision\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+ = math.\+pi / 9}



Definition at line 66 of file go\+\_\+to\+\_\+point.\+py.

\mbox{\Hypertarget{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}\label{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_precision\_2\_@{yaw\_precision\_2\_}}
\index{yaw\_precision\_2\_@{yaw\_precision\_2\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_precision\_2\_}{yaw\_precision\_2\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+2\+\_\+ = math.\+pi / 90}



Definition at line 67 of file go\+\_\+to\+\_\+point.\+py.

