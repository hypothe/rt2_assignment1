\hypertarget{go__to__point_8py}{}\doxysection{scripts/go\+\_\+to\+\_\+point.py File Reference}
\label{go__to__point_8py}\index{scripts/go\_to\_point.py@{scripts/go\_to\_point.py}}


Node implementing the \mbox{\hyperlink{namespacego__to__point}{go\+\_\+to\+\_\+point}} behavior.  


\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacego__to__point}{go\+\_\+to\+\_\+point}}
\item 
 \mbox{\hyperlink{namespacert2__assignment1}{rt2\+\_\+assignment1}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point_a73dbc2c93a6c9bb25f136c4519b8b6ca}{go\+\_\+to\+\_\+point.\+srv\+\_\+set\+\_\+vel}} (req)
\begin{DoxyCompactList}\small\item\em /set\+\_\+vel server \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}{go\+\_\+to\+\_\+point.\+clbk\+\_\+odom}} (msg)
\begin{DoxyCompactList}\small\item\em Odometry callback. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}{go\+\_\+to\+\_\+point.\+change\+\_\+state}} (\mbox{\hyperlink{state__machine_8cpp_a89f234133d3efe315836311cbf21c64b}{state}})
\begin{DoxyCompactList}\small\item\em Update the current global state. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}{go\+\_\+to\+\_\+point.\+normalize\+\_\+angle}} (angle)
\begin{DoxyCompactList}\small\item\em Renormalize an angle berween \mbox{[}-\/pi, pi\mbox{]}. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_aa2f5974f6134483d69194c980a3a0799}{go\+\_\+to\+\_\+point.\+fix\+\_\+yaw}} (des\+\_\+yaw, next\+\_\+state)
\begin{DoxyCompactList}\small\item\em Orient the robot in a desired way. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}{go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\begin{DoxyCompactList}\small\item\em Drive toward the goal. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ac2587220a4ac9c845bc9c5b0b45d5835}{go\+\_\+to\+\_\+point.\+done}} ()
\begin{DoxyCompactList}\small\item\em Stop the robot. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_a2203d17b7e563bee20ed4c988548df45}{go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point}} (goal)
\begin{DoxyCompactList}\small\item\em State machine implementation. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}{go\+\_\+to\+\_\+point.\+main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacego__to__point_a91dbaab25e6080f6b5dbf82cac6ce75c}{go\+\_\+to\+\_\+point.\+position\+\_\+}} = Point()
\item 
int \mbox{\hyperlink{namespacego__to__point_ae444f19eb2019982432760ace036ce03}{go\+\_\+to\+\_\+point.\+yaw\+\_\+}} = 0
\item 
int \mbox{\hyperlink{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}{go\+\_\+to\+\_\+point.\+state\+\_\+}} = 0
\item 
\mbox{\hyperlink{namespacego__to__point_a57b4090d0abcbcf0bfa2bcb9329d3036}{go\+\_\+to\+\_\+point.\+pub\+\_\+}} = None
\begin{DoxyCompactList}\small\item\em publisher \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacego__to__point_a64583fad586a7212c40613ec1c3e7c69}{go\+\_\+to\+\_\+point.\+act\+\_\+s}} = None
\begin{DoxyCompactList}\small\item\em action\+\_\+server \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacego__to__point_a354fba5ca969f353a94d6131040611b9}{go\+\_\+to\+\_\+point.\+vel\+\_\+s}} = None
\begin{DoxyCompactList}\small\item\em velocity server \end{DoxyCompactList}\item 
int \mbox{\hyperlink{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}{go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+}} = math.\+pi / 9
\item 
int \mbox{\hyperlink{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}{go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+2\+\_\+}} = math.\+pi / 90
\item 
float \mbox{\hyperlink{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}{go\+\_\+to\+\_\+point.\+dist\+\_\+precision\+\_\+}} = 0.\+1
\item 
float \mbox{\hyperlink{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}{go\+\_\+to\+\_\+point.\+kp\+\_\+a}} = -\/3.\+0
\item 
float \mbox{\hyperlink{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}{go\+\_\+to\+\_\+point.\+kp\+\_\+d}} = 0.\+2
\item 
float \mbox{\hyperlink{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}{go\+\_\+to\+\_\+point.\+ub\+\_\+a}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum angular speed. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}{go\+\_\+to\+\_\+point.\+ub\+\_\+d}} = 0.\+6
\begin{DoxyCompactList}\small\item\em Maximum linear speed. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Node implementing the \mbox{\hyperlink{namespacego__to__point}{go\+\_\+to\+\_\+point}} behavior. 

\begin{DoxyAuthor}{Author}
Carmine Recchiuto, Marco Gabriele Fedozzi 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+2 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
10/06/2021
\end{DoxyDate}
Publishes to\+:~\newline
 /cmd\+\_\+vel (geometry\+\_\+msgs.\+msg.\+Twist)

Service\+Server\+:~\newline
 /set\+\_\+vel (rt2\+\_\+assignment1.\+srv.\+Set\+Vel)

Action\+Server\+:~\newline
 /go\+\_\+to\+\_\+point (rt2\+\_\+assignment1.\+action.\+Pose\+Action)

Description\+:

This node controls the go\+\_\+topoint behavior of the non-\/holonomic robot via an action server. A F\+SM is used to model the behavior whenever a new goal pose is received\+: ~\newline



\begin{DoxyEnumerate}
\item align with the goal position ~\newline

\item go straight to the goal position ~\newline

\item align with the goal orientation ~\newline

\item goal posoe reached ~\newline

\end{DoxyEnumerate}

The max values for both linear and angular speed are updated each time a request for the /set\+\_\+vel serrvice is received. 